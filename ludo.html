<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tech4U | Multiplayer Ludo</title>
    <script src="https://cdn.jsdelivr.net/npm/playroomkit"></script>
    <style>
        body { background: #0a0b10; color: white; text-align: center; font-family: sans-serif; padding: 20px; }
        #status { margin-bottom: 20px; color: #00d4ff; }
        .dice-area { background: #161b22; padding: 30px; border-radius: 20px; border: 2px solid #333; display: inline-block; }
        #dice-val { font-size: 60px; margin: 20px; display: block; }
        .btn-roll { background: #00d4ff; color: black; border: none; padding: 15px 30px; font-size: 20px; font-weight: bold; border-radius: 10px; cursor: pointer; }
    </style>
</head>
<body>

    <h1>Tech4U Ludo</h1>
    <div id="status">Connecting...</div>

    <div class="dice-area">
        <span id="dice-val">ðŸŽ²</span>
        <button class="btn-roll" onclick="roll()">ROLL DICE</button>
    </div>

    <script>
        const { insertCoin, myPlayer, setState, getState } = Playroom;

        async function init() {
            await insertCoin({
                gameId: "lSO33kfiKxPFBkaFheob", // YOUR ID
                baseUrl: "https://tech4u938.github.io/Tech4U.AllGame/"
            });
            document.getElementById('status').innerText = "Ready to play, " + myPlayer().getProfile().name;

            // Update dice whenever someone rolls
            setInterval(() => {
                const val = getState("dice");
                const roller = getState("roller");
                if (val) {
                    document.getElementById('dice-val').innerText = val;
                    document.getElementById('status').innerText = roller + " rolled a " + val;
                }
            }, 500);
        }

        function roll() {
            const r = Math.floor(Math.random() * 6) + 1;
            setState("dice", r);
            setState("roller", myPlayer().getProfile().name);
        }

        init();
    </script>
</body>
</html>
